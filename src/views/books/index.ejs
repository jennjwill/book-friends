<!-- goes to /books view -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <% include ../static/partials/head.ejs %>
  </head>
  <body>
    <%include ../static/partials/navbar.ejs %> <% include
    ../static/partials/messages.ejs %>
    <main class="container">
      <!-- *** NEED CURRENT USER'S BOOK LIST VIEW HERE, b/c form to add to or create list is /books/new *** -->
      <h1>My Favorite Books</h1>

      <% books.forEach(book => { %> <% if(currentUser && (currentUser.id ==
      book.userId || currentUser && currentUser.role === "admin")) { %>

      <ul class="list-group">
        <li class="list-group-item">
          <a href="/books/<%= book.id %>">
            <div><%= book.title %></div>
            <div>by: <%= book.author %></div></a
          >
          <a href="/books/<%= book.id %>/edit" class="btn btn-warning">Edit</a>
          <form
            style="display:initial"
            action="/books/<%= book.id %>/destroy"
            method="post"
          >
            <button type="submit" class="btn btn-danger">Delete</button>
          </form>
        </li>
      </ul>
      <% } %> <% }) %>
      <div>
        <a href="/books/new" class="btn btn-primary">Update My Book List</a>
      </div>
    </main>

    <% include ../static/partials/baseScripts.ejs %>
  </body>
</html>
